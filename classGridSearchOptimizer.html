<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CCT-Harmonics-Optimizer: GridSearchOptimizer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CCT-Harmonics-Optimizer
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classGridSearchOptimizer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classGridSearchOptimizer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">GridSearchOptimizer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Optimizes a model by performing several grid searches and extrapolating the optimal configuration for all custom CCT harmonics.  
 <a href="classGridSearchOptimizer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="grid__search__optimizer_8h_source.html">grid_search_optimizer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for GridSearchOptimizer:</div>
<div class="dyncontent">
<div class="center"><img src="classGridSearchOptimizer__inherit__graph.png" border="0" usemap="#aGridSearchOptimizer_inherit__map" alt="Inheritance graph"/></div>
<map name="aGridSearchOptimizer_inherit__map" id="aGridSearchOptimizer_inherit__map">
<area shape="rect" title="Optimizes a model by performing several grid searches and extrapolating the optimal configuration for..." alt="" coords="5,79,163,104"/>
<area shape="rect" href="classAbstractOptimizer.html" title="Abstract class for optimization algorithms." alt="" coords="14,5,154,31"/>
<area shape="poly" title=" " alt="" coords="87,44,87,79,81,79,81,44"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for GridSearchOptimizer:</div>
<div class="dyncontent">
<div class="center"><img src="classGridSearchOptimizer__coll__graph.png" border="0" usemap="#aGridSearchOptimizer_coll__map" alt="Collaboration graph"/></div>
<map name="aGridSearchOptimizer_coll__map" id="aGridSearchOptimizer_coll__map">
<area shape="rect" title="Optimizes a model by performing several grid searches and extrapolating the optimal configuration for..." alt="" coords="5,79,163,104"/>
<area shape="rect" href="classAbstractOptimizer.html" title="Abstract class for optimization algorithms." alt="" coords="14,5,154,31"/>
<area shape="poly" title=" " alt="" coords="87,44,87,79,81,79,81,44"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aed570d374730752b9496e95c8fb394a8" id="r_aed570d374730752b9496e95c8fb394a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#aed570d374730752b9496e95c8fb394a8">GridSearchOptimizer</a> (CCTools::ModelHandler &amp;model_handler, std::vector&lt; std::shared_ptr&lt; <a class="el" href="classAbstractObjective.html">AbstractObjective</a> &gt; &gt; criteria, std::vector&lt; double &gt; thresholds, std::vector&lt; double &gt; search_factors, const int grid_min_steps=<a class="el" href="constants_8h.html#aadd580042fd702d25d7ac1377147b2db">GRID_DEFAULT_STEPS</a>, std::vector&lt; int &gt; harmonics_to_optimize={1, 2, 3, 4, 5, 6, 7, 8, 9, 10})</td></tr>
<tr class="memdesc:aed570d374730752b9496e95c8fb394a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new Grid Search Optimizer object with no user interaction.  <br /></td></tr>
<tr class="separator:aed570d374730752b9496e95c8fb394a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b8f9feef51dccfd82096bf1108d566" id="r_a81b8f9feef51dccfd82096bf1108d566"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a81b8f9feef51dccfd82096bf1108d566">GridSearchOptimizer</a> (std::vector&lt; std::shared_ptr&lt; <a class="el" href="classAbstractObjective.html">AbstractObjective</a> &gt; &gt; criteria, std::vector&lt; double &gt; thresholds, std::vector&lt; double &gt; search_factors, const int grid_num_steps=<a class="el" href="constants_8h.html#aadd580042fd702d25d7ac1377147b2db">GRID_DEFAULT_STEPS</a>, std::vector&lt; int &gt; harmonics_to_optimize={1, 2, 3, 4, 5, 6, 7, 8, 9, 10})</td></tr>
<tr class="memdesc:a81b8f9feef51dccfd82096bf1108d566"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new Grid Search Optimizer object with user interaction.  <br /></td></tr>
<tr class="separator:a81b8f9feef51dccfd82096bf1108d566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e034365b421e48925725b730b81a0e" id="r_ad5e034365b421e48925725b730b81a0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#ad5e034365b421e48925725b730b81a0e">optimize</a> () override</td></tr>
<tr class="memdesc:ad5e034365b421e48925725b730b81a0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the optimizer.  <br /></td></tr>
<tr class="separator:ad5e034365b421e48925725b730b81a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c1fa2d04522ed60839817b97a88d8af" id="r_a0c1fa2d04522ed60839817b97a88d8af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a0c1fa2d04522ed60839817b97a88d8af">logResults</a> () override</td></tr>
<tr class="memdesc:a0c1fa2d04522ed60839817b97a88d8af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log the results of the optimizer.  <br /></td></tr>
<tr class="separator:a0c1fa2d04522ed60839817b97a88d8af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f7ffdfd2194488a80923368dbc51fd" id="r_aa0f7ffdfd2194488a80923368dbc51fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#aa0f7ffdfd2194488a80923368dbc51fd">exportModel</a> () override</td></tr>
<tr class="memdesc:aa0f7ffdfd2194488a80923368dbc51fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export the model of the optimizer.  <br /></td></tr>
<tr class="separator:aa0f7ffdfd2194488a80923368dbc51fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40491aea01b36374cc116e3c1551cfa2" id="r_a40491aea01b36374cc116e3c1551cfa2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a40491aea01b36374cc116e3c1551cfa2">injectParamRanges</a> (std::vector&lt; std::pair&lt; std::pair&lt; double, double &gt;, std::pair&lt; double, double &gt; &gt; &gt; param_ranges)</td></tr>
<tr class="memdesc:a40491aea01b36374cc116e3c1551cfa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inject parameter ranges for the grid searches.  <br /></td></tr>
<tr class="separator:a40491aea01b36374cc116e3c1551cfa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3250e8c340a8251b4ece35e30b3765ae" id="r_a3250e8c340a8251b4ece35e30b3765ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a3250e8c340a8251b4ece35e30b3765ae">setNumSteps</a> (int num_steps)</td></tr>
<tr class="memdesc:a3250e8c340a8251b4ece35e30b3765ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to overwrite the <code>grid_num_steps_</code> variable.  <br /></td></tr>
<tr class="separator:a3250e8c340a8251b4ece35e30b3765ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20c962e61889b74cecfcf0c247d7b07" id="r_ad20c962e61889b74cecfcf0c247d7b07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#ad20c962e61889b74cecfcf0c247d7b07">logCriteriaValues</a> ()</td></tr>
<tr class="memdesc:ad20c962e61889b74cecfcf0c247d7b07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to compute and log all <code>crieria_</code> values.  <br /></td></tr>
<tr class="separator:ad20c962e61889b74cecfcf0c247d7b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2332c11c1b128881e64e9a5cf2f8374" id="r_ae2332c11c1b128881e64e9a5cf2f8374"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#ae2332c11c1b128881e64e9a5cf2f8374">~GridSearchOptimizer</a> ()</td></tr>
<tr class="separator:ae2332c11c1b128881e64e9a5cf2f8374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classAbstractOptimizer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classAbstractOptimizer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classAbstractOptimizer.html">AbstractOptimizer</a></td></tr>
<tr class="memitem:af6a61e82d34a7b213a181e4125f52941 inherit pub_methods_classAbstractOptimizer" id="r_af6a61e82d34a7b213a181e4125f52941"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#af6a61e82d34a7b213a181e4125f52941">AbstractOptimizer</a> (bool disable_user_interaction=false)</td></tr>
<tr class="memdesc:af6a61e82d34a7b213a181e4125f52941 inherit pub_methods_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classAbstractOptimizer.html" title="Abstract class for optimization algorithms.">AbstractOptimizer</a> object.  <br /></td></tr>
<tr class="separator:af6a61e82d34a7b213a181e4125f52941 inherit pub_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1af9e845760a5b3809551f1ac86b1d9 inherit pub_methods_classAbstractOptimizer" id="r_ab1af9e845760a5b3809551f1ac86b1d9"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#ab1af9e845760a5b3809551f1ac86b1d9">~AbstractOptimizer</a> ()</td></tr>
<tr class="separator:ab1af9e845760a5b3809551f1ac86b1d9 inherit pub_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a929c7ed9b4a478b8b73c9ae02e3d04ad" id="r_a929c7ed9b4a478b8b73c9ae02e3d04ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a929c7ed9b4a478b8b73c9ae02e3d04ad">optimize</a> (double bn_threshold)</td></tr>
<tr class="memdesc:a929c7ed9b4a478b8b73c9ae02e3d04ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to start one optimization.  <br /></td></tr>
<tr class="separator:a929c7ed9b4a478b8b73c9ae02e3d04ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ccb518a1e97c1ea7f391cdd77b45d70" id="r_a7ccb518a1e97c1ea7f391cdd77b45d70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a7ccb518a1e97c1ea7f391cdd77b45d70">recompute_bn</a> ()</td></tr>
<tr class="memdesc:a7ccb518a1e97c1ea7f391cdd77b45d70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to recompute the b_n values.  <br /></td></tr>
<tr class="separator:a7ccb518a1e97c1ea7f391cdd77b45d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffddf12268bd6b3ad5ffd4e68015029" id="r_a2ffddf12268bd6b3ad5ffd4e68015029"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a2ffddf12268bd6b3ad5ffd4e68015029">hasDriveValueChanged</a> (CCTools::HarmonicDriveParameterMap &amp;drive_values_before_loop)</td></tr>
<tr class="memdesc:a2ffddf12268bd6b3ad5ffd4e68015029"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to check if any custom cct harmonic drive value has changed in the current loop iteration.  <br /></td></tr>
<tr class="separator:a2ffddf12268bd6b3ad5ffd4e68015029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e355978eba69ef4dc3f03fd3cdfa6b" id="r_a66e355978eba69ef4dc3f03fd3cdfa6b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a66e355978eba69ef4dc3f03fd3cdfa6b">checkBnValue</a> (int component, double prev_bn, CCTools::HarmonicDriveParameterMap &amp;prev_drive_values)</td></tr>
<tr class="memdesc:a66e355978eba69ef4dc3f03fd3cdfa6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to check if the new configuration improved the b_n value. May revert to the previous configuration.  <br /></td></tr>
<tr class="separator:a66e355978eba69ef4dc3f03fd3cdfa6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874b233260131f10ba19fe11e4ea74ac" id="r_a874b233260131f10ba19fe11e4ea74ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a874b233260131f10ba19fe11e4ea74ac">checkLengthSanity</a> (CCTools::HarmonicDriveParameterMap &amp;fallback_drives)</td></tr>
<tr class="memdesc:a874b233260131f10ba19fe11e4ea74ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to check the sanity of the magnet model. Will revert to the fallback config if the length of the magnet changed considerably.  <br /></td></tr>
<tr class="separator:a874b233260131f10ba19fe11e4ea74ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b404fc07d59d46669216ea15d183f0a" id="r_a0b404fc07d59d46669216ea15d183f0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a0b404fc07d59d46669216ea15d183f0a">runGridSearch</a> (int component, std::vector&lt; <a class="el" href="structGridSearchResult.html">GridSearchResult</a> &gt; &amp;results)</td></tr>
<tr class="memdesc:a0b404fc07d59d46669216ea15d183f0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to run a grid search for one harmonic drive.  <br /></td></tr>
<tr class="separator:a0b404fc07d59d46669216ea15d183f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a603bba3a8d9974859724b8e2611c1853" id="r_a603bba3a8d9974859724b8e2611c1853"><td class="memItemLeft" align="right" valign="top">std::pair&lt; double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a603bba3a8d9974859724b8e2611c1853">extrapolateOptimalConfiguration</a> (std::vector&lt; <a class="el" href="structGridSearchResult.html">GridSearchResult</a> &gt; &amp;results, CCTools::HarmonicDriveParameters &amp;current_drive)</td></tr>
<tr class="memdesc:a603bba3a8d9974859724b8e2611c1853"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to extrapolate the optimal configuration from the grid search results.  <br /></td></tr>
<tr class="separator:a603bba3a8d9974859724b8e2611c1853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ca66ae2a3eb4e483361e3b87cacef9" id="r_a95ca66ae2a3eb4e483361e3b87cacef9"><td class="memItemLeft" align="right" valign="top">std::pair&lt; double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a95ca66ae2a3eb4e483361e3b87cacef9">extrapolateOptimalConfiguration</a> (std::pair&lt; double, double &gt; linear_function1, std::pair&lt; double, double &gt; linear_function2)</td></tr>
<tr class="memdesc:a95ca66ae2a3eb4e483361e3b87cacef9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to extrapolate the optimal configuration from the grid search results for two criteria.  <br /></td></tr>
<tr class="separator:a95ca66ae2a3eb4e483361e3b87cacef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06a7342ad066b92baa9c1c0c53ee9ad0" id="r_a06a7342ad066b92baa9c1c0c53ee9ad0"><td class="memItemLeft" align="right" valign="top">std::pair&lt; double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a06a7342ad066b92baa9c1c0c53ee9ad0">extrapolateOptimalConfiguration</a> (std::pair&lt; double, double &gt; linear_function, CCTools::HarmonicDriveParameters &amp;current_drive)</td></tr>
<tr class="memdesc:a06a7342ad066b92baa9c1c0c53ee9ad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to extrapolate the optimal configuration from the grid search results for one criterion.  <br /></td></tr>
<tr class="separator:a06a7342ad066b92baa9c1c0c53ee9ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628e84e038240de0500b539f0e2862e1" id="r_a628e84e038240de0500b539f0e2862e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a628e84e038240de0500b539f0e2862e1">setParamRanges</a> (double factor)</td></tr>
<tr class="memdesc:a628e84e038240de0500b539f0e2862e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to set the parameter ranges for the grid search.  <br /></td></tr>
<tr class="separator:a628e84e038240de0500b539f0e2862e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82b0c7bbdcedb368b24aeac87388521a" id="r_a82b0c7bbdcedb368b24aeac87388521a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a82b0c7bbdcedb368b24aeac87388521a">computeGranularities</a> ()</td></tr>
<tr class="memdesc:a82b0c7bbdcedb368b24aeac87388521a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to compute the granularities for the grid search.  <br /></td></tr>
<tr class="separator:a82b0c7bbdcedb368b24aeac87388521a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a00101712ab87eda5f435ccf097d6e" id="r_ad8a00101712ab87eda5f435ccf097d6e"><td class="memItemLeft" align="right" valign="top">std::pair&lt; double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#ad8a00101712ab87eda5f435ccf097d6e">computeGranularities</a> (std::pair&lt; double, double &gt; offset_range, std::pair&lt; double, double &gt; slope_range)</td></tr>
<tr class="memdesc:ad8a00101712ab87eda5f435ccf097d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper Function to compute the granularities for the grid search.  <br /></td></tr>
<tr class="separator:ad8a00101712ab87eda5f435ccf097d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3655e9dcd5b47f94678762460b1cf35" id="r_ac3655e9dcd5b47f94678762460b1cf35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#ac3655e9dcd5b47f94678762460b1cf35">estimateTimePerComputation</a> ()</td></tr>
<tr class="memdesc:ac3655e9dcd5b47f94678762460b1cf35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to estimate the time per harmonics calculation (i.e., one grid search iteration).  <br /></td></tr>
<tr class="separator:ac3655e9dcd5b47f94678762460b1cf35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a431d3cbdd9f30411d37489692a43fc26" id="r_a431d3cbdd9f30411d37489692a43fc26"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a431d3cbdd9f30411d37489692a43fc26">getCriteriaLabels</a> ()</td></tr>
<tr class="memdesc:a431d3cbdd9f30411d37489692a43fc26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get the labels of all criteria.  <br /></td></tr>
<tr class="separator:a431d3cbdd9f30411d37489692a43fc26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47e4489873637a4e4249f1672e81618" id="r_ae47e4489873637a4e4249f1672e81618"><td class="memItemLeft" align="right" valign="top">const CCTools::ModelHandler &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#ae47e4489873637a4e4249f1672e81618">getModelHandler</a> ()</td></tr>
<tr class="memdesc:ae47e4489873637a4e4249f1672e81618"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get the model handler.  <br /></td></tr>
<tr class="separator:ae47e4489873637a4e4249f1672e81618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bc43a372542d3d27d25c56383846bb2" id="r_a8bc43a372542d3d27d25c56383846bb2"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; double &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a8bc43a372542d3d27d25c56383846bb2">getCurrentBnValues</a> ()</td></tr>
<tr class="memdesc:a8bc43a372542d3d27d25c56383846bb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get the current bn values.  <br /></td></tr>
<tr class="separator:a8bc43a372542d3d27d25c56383846bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad755470ffecbb3024331d143201fc1dd" id="r_ad755470ffecbb3024331d143201fc1dd"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; std::pair&lt; double, double &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#ad755470ffecbb3024331d143201fc1dd">getGranularities</a> ()</td></tr>
<tr class="memdesc:ad755470ffecbb3024331d143201fc1dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get the granularities for the grid search.  <br /></td></tr>
<tr class="separator:ad755470ffecbb3024331d143201fc1dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c217d528f191989a6dcb3802ee2009" id="r_a67c217d528f191989a6dcb3802ee2009"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#a67c217d528f191989a6dcb3802ee2009">getTimePerCalc</a> ()</td></tr>
<tr class="memdesc:a67c217d528f191989a6dcb3802ee2009"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get the time per harmonics calculation.  <br /></td></tr>
<tr class="separator:a67c217d528f191989a6dcb3802ee2009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af662e3bef45038e8a57995ca56d5c9f2" id="r_af662e3bef45038e8a57995ca56d5c9f2"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::pair&lt; double, double &gt;, std::pair&lt; double, double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGridSearchOptimizer.html#af662e3bef45038e8a57995ca56d5c9f2">getParamRange</a> (int component)</td></tr>
<tr class="memdesc:af662e3bef45038e8a57995ca56d5c9f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get the parameter ranges of a harmonic component for the grid search.  <br /></td></tr>
<tr class="separator:af662e3bef45038e8a57995ca56d5c9f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classAbstractOptimizer"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classAbstractOptimizer')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classAbstractOptimizer.html">AbstractOptimizer</a></td></tr>
<tr class="memitem:aeeda943e0dfd71c0da10b60f28030333 inherit pro_methods_classAbstractOptimizer" id="r_aeeda943e0dfd71c0da10b60f28030333"><td class="memItemLeft" align="right" valign="top">CCTools::ModelHandler &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#aeeda943e0dfd71c0da10b60f28030333">initModel</a> ()</td></tr>
<tr class="memdesc:aeeda943e0dfd71c0da10b60f28030333 inherit pro_methods_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the model.  <br /></td></tr>
<tr class="separator:aeeda943e0dfd71c0da10b60f28030333 inherit pro_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a563148c8e5dc37fe02ae1cccf472ebe4 inherit pro_methods_classAbstractOptimizer" id="r_a563148c8e5dc37fe02ae1cccf472ebe4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#a563148c8e5dc37fe02ae1cccf472ebe4">initCalculator</a> ()</td></tr>
<tr class="memdesc:a563148c8e5dc37fe02ae1cccf472ebe4 inherit pro_methods_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the calculator.  <br /></td></tr>
<tr class="separator:a563148c8e5dc37fe02ae1cccf472ebe4 inherit pro_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db7740f4171d9829c94724a68910de0 inherit pro_methods_classAbstractOptimizer" id="r_a7db7740f4171d9829c94724a68910de0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#a7db7740f4171d9829c94724a68910de0">getMinMagnetEll</a> ()</td></tr>
<tr class="memdesc:a7db7740f4171d9829c94724a68910de0 inherit pro_methods_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the minimum magnet ell position.  <br /></td></tr>
<tr class="separator:a7db7740f4171d9829c94724a68910de0 inherit pro_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af137edf9b1ab750f0107a177cab083f2 inherit pro_methods_classAbstractOptimizer" id="r_af137edf9b1ab750f0107a177cab083f2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#af137edf9b1ab750f0107a177cab083f2">getMaxMagnetEll</a> ()</td></tr>
<tr class="memdesc:af137edf9b1ab750f0107a177cab083f2 inherit pro_methods_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum magnet ell position.  <br /></td></tr>
<tr class="separator:af137edf9b1ab750f0107a177cab083f2 inherit pro_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8a97a5eb3f65717b1f9de4a2ae5bb40 inherit pro_methods_classAbstractOptimizer" id="r_ac8a97a5eb3f65717b1f9de4a2ae5bb40"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#ac8a97a5eb3f65717b1f9de4a2ae5bb40">getMagnetLength</a> ()</td></tr>
<tr class="memdesc:ac8a97a5eb3f65717b1f9de4a2ae5bb40 inherit pro_methods_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the inferred length of the magnet.  <br /></td></tr>
<tr class="separator:ac8a97a5eb3f65717b1f9de4a2ae5bb40 inherit pro_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d6d45ff6d16cd6f276260583a82808 inherit pro_methods_classAbstractOptimizer" id="r_ae7d6d45ff6d16cd6f276260583a82808"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#ae7d6d45ff6d16cd6f276260583a82808">getMainComponent</a> ()</td></tr>
<tr class="memdesc:ae7d6d45ff6d16cd6f276260583a82808 inherit pro_methods_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the main component of the magnet.  <br /></td></tr>
<tr class="separator:ae7d6d45ff6d16cd6f276260583a82808 inherit pro_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea5b126ff26498a07281ffaafa1bedee inherit pro_methods_classAbstractOptimizer" id="r_aea5b126ff26498a07281ffaafa1bedee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#aea5b126ff26498a07281ffaafa1bedee">computeMagnetEllBounds</a> ()</td></tr>
<tr class="memdesc:aea5b126ff26498a07281ffaafa1bedee inherit pro_methods_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute and set the ell bounds for the magnet.  <br /></td></tr>
<tr class="separator:aea5b126ff26498a07281ffaafa1bedee inherit pro_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a850a33ebe2cf5920e50ec0655ef8124e inherit pro_methods_classAbstractOptimizer" id="r_a850a33ebe2cf5920e50ec0655ef8124e"><td class="memItemLeft" align="right" valign="top">CCTools::HarmonicDriveParameterMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#a850a33ebe2cf5920e50ec0655ef8124e">initHarmonicDrives</a> ()</td></tr>
<tr class="memdesc:a850a33ebe2cf5920e50ec0655ef8124e inherit pro_methods_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get, log and return all custom CCT harmonic drive values of the loaded model.  <br /></td></tr>
<tr class="separator:a850a33ebe2cf5920e50ec0655ef8124e inherit pro_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c55e478af17437a80cbf2215285072 inherit pro_methods_classAbstractOptimizer" id="r_af9c55e478af17437a80cbf2215285072"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#af9c55e478af17437a80cbf2215285072">assertOnlyLinearDrives</a> ()</td></tr>
<tr class="memdesc:af9c55e478af17437a80cbf2215285072 inherit pro_methods_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert that there are only linear drives in the model.  <br /></td></tr>
<tr class="separator:af9c55e478af17437a80cbf2215285072 inherit pro_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff557dc454777dc12df70fe647b397d9 inherit pro_methods_classAbstractOptimizer" id="r_aff557dc454777dc12df70fe647b397d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#aff557dc454777dc12df70fe647b397d9">assertAllHarmonicsPresent</a> ()</td></tr>
<tr class="memdesc:aff557dc454777dc12df70fe647b397d9 inherit pro_methods_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert that there are custom CCT harmonics for all components (except for the main one) present.  <br /></td></tr>
<tr class="separator:aff557dc454777dc12df70fe647b397d9 inherit pro_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3bfeb46defc4949e213aeee4fb42398 inherit pro_methods_classAbstractOptimizer" id="r_ad3bfeb46defc4949e213aeee4fb42398"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#ad3bfeb46defc4949e213aeee4fb42398">checkMainComponent</a> ()</td></tr>
<tr class="memdesc:ad3bfeb46defc4949e213aeee4fb42398 inherit pro_methods_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the <code>main_component_</code> variable has been set and if the main harmonic has a bn value of 10,000.  <br /></td></tr>
<tr class="separator:ad3bfeb46defc4949e213aeee4fb42398 inherit pro_methods_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classAbstractOptimizer"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classAbstractOptimizer')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classAbstractOptimizer.html">AbstractOptimizer</a></td></tr>
<tr class="memitem:a6472098a9b14df9939864520b85d5512 inherit pro_attribs_classAbstractOptimizer" id="r_a6472098a9b14df9939864520b85d5512"><td class="memItemLeft" align="right" valign="top">boost::filesystem::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#a6472098a9b14df9939864520b85d5512">json_file_path_</a></td></tr>
<tr class="memdesc:a6472098a9b14df9939864520b85d5512 inherit pro_attribs_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path to the JSON file of the selected model.  <br /></td></tr>
<tr class="separator:a6472098a9b14df9939864520b85d5512 inherit pro_attribs_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a631aa91e6880a1f7eedffbfeeb1979 inherit pro_attribs_classAbstractOptimizer" id="r_a1a631aa91e6880a1f7eedffbfeeb1979"><td class="memItemLeft" align="right" valign="top">CCTools::ModelHandler&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#a1a631aa91e6880a1f7eedffbfeeb1979">model_handler_</a></td></tr>
<tr class="memdesc:a1a631aa91e6880a1f7eedffbfeeb1979 inherit pro_attribs_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Model handler to read and write the model.  <br /></td></tr>
<tr class="separator:a1a631aa91e6880a1f7eedffbfeeb1979 inherit pro_attribs_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afef5706c5e970cdf7b8ed60d10c11ff8 inherit pro_attribs_classAbstractOptimizer" id="r_afef5706c5e970cdf7b8ed60d10c11ff8"><td class="memItemLeft" align="right" valign="top">CCTools::ModelCalculator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#afef5706c5e970cdf7b8ed60d10c11ff8">calculator_</a></td></tr>
<tr class="memdesc:afef5706c5e970cdf7b8ed60d10c11ff8 inherit pro_attribs_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Model calculator to run calculations on the model.  <br /></td></tr>
<tr class="separator:afef5706c5e970cdf7b8ed60d10c11ff8 inherit pro_attribs_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982561dbc4d43d3e38f1874955081de7 inherit pro_attribs_classAbstractOptimizer" id="r_a982561dbc4d43d3e38f1874955081de7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#a982561dbc4d43d3e38f1874955081de7">disable_user_interaction_</a></td></tr>
<tr class="memdesc:a982561dbc4d43d3e38f1874955081de7 inherit pro_attribs_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to disable user interaction.  <br /></td></tr>
<tr class="separator:a982561dbc4d43d3e38f1874955081de7 inherit pro_attribs_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae72ba3b2ca7c6b5bdc0acc987d7a3bf inherit pro_attribs_classAbstractOptimizer" id="r_aae72ba3b2ca7c6b5bdc0acc987d7a3bf"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOptimizer.html#aae72ba3b2ca7c6b5bdc0acc987d7a3bf">harmonic_drive_prefix_</a> = &quot;B&quot;</td></tr>
<tr class="memdesc:aae72ba3b2ca7c6b5bdc0acc987d7a3bf inherit pro_attribs_classAbstractOptimizer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prefix for the names of targeted custom CCT harmonics.  <br /></td></tr>
<tr class="separator:aae72ba3b2ca7c6b5bdc0acc987d7a3bf inherit pro_attribs_classAbstractOptimizer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Optimizes a model by performing several grid searches and extrapolating the optimal configuration for all custom CCT harmonics. </p>
<p>This optimizer optimizes the custom CCT harmonics of the magnet to achieve specified objectives. The optimizer performs grid searches for one harmonic drive at a time and extrapolates the optimal configuration for the scaling function of that drive based on the results of the grid search. This is done iteratively in rounds until all objectives meet the specified thresholds. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aed570d374730752b9496e95c8fb394a8" name="aed570d374730752b9496e95c8fb394a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed570d374730752b9496e95c8fb394a8">&#9670;&#160;</a></span>GridSearchOptimizer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GridSearchOptimizer::GridSearchOptimizer </td>
          <td>(</td>
          <td class="paramtype">CCTools::ModelHandler &amp;&#160;</td>
          <td class="paramname"><em>model_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classAbstractObjective.html">AbstractObjective</a> &gt; &gt;&#160;</td>
          <td class="paramname"><em>criteria</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt;&#160;</td>
          <td class="paramname"><em>thresholds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt;&#160;</td>
          <td class="paramname"><em>search_factors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>grid_min_steps</em> = <code><a class="el" href="constants_8h.html#aadd580042fd702d25d7ac1377147b2db">GRID_DEFAULT_STEPS</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt;&#160;</td>
          <td class="paramname"><em>harmonics_to_optimize</em> = <code>{1,&#160;2,&#160;3,&#160;4,&#160;5,&#160;6,&#160;7,&#160;8,&#160;9,&#160;10}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new Grid Search Optimizer object with no user interaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model_handler</td><td>ModelHandler object to be used for the optimization. </td></tr>
    <tr><td class="paramname">criteria</td><td>Vector of shared pointers to <a class="el" href="classAbstractObjective.html" title="Abstract class to define objectives for some optimizers.">AbstractObjective</a> objects that define the criteria to be used for the grid search. </td></tr>
    <tr><td class="paramname">thresholds</td><td>Vector of bn-thresholds for each optimization. </td></tr>
    <tr><td class="paramname">search_factors</td><td>Vector of search factors to determine the grid size for each optimization. </td></tr>
    <tr><td class="paramname">grid_min_steps</td><td>Minimum number of steps in each grid search. </td></tr>
    <tr><td class="paramname">harmonics_to_optimize</td><td>Integer vector of harmonics to be optimized (1-indexed).</td></tr>
  </table>
  </dd>
</dl>
<p>The constructor initializes the optimizer with the provided parameters and sets up the model for optimization. The optimizer will run multiple optimizations (determined by the size of the <code>thresholds</code> and <code>search_factors</code> vectors) with the specified (usually decreasing) parameters. In each optimization, the optimizer will perform several rounds until the b_n values of all harmonics are below the specified threshold. In each round, the optimizer will perform one grid search for each harmonic drive, except the main harmonic, (unless a drive is already below the threshold). This grid search is in the space of the offset and slope parameters of the scaling function of the harmonic drive. The results are used to extrapolate the optimal values for the offset and slope of the scaling function. </p>

</div>
</div>
<a id="a81b8f9feef51dccfd82096bf1108d566" name="a81b8f9feef51dccfd82096bf1108d566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81b8f9feef51dccfd82096bf1108d566">&#9670;&#160;</a></span>GridSearchOptimizer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GridSearchOptimizer::GridSearchOptimizer </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classAbstractObjective.html">AbstractObjective</a> &gt; &gt;&#160;</td>
          <td class="paramname"><em>criteria</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt;&#160;</td>
          <td class="paramname"><em>thresholds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt;&#160;</td>
          <td class="paramname"><em>search_factors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>grid_num_steps</em> = <code><a class="el" href="constants_8h.html#aadd580042fd702d25d7ac1377147b2db">GRID_DEFAULT_STEPS</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt;&#160;</td>
          <td class="paramname"><em>harmonics_to_optimize</em> = <code>{1,&#160;2,&#160;3,&#160;4,&#160;5,&#160;6,&#160;7,&#160;8,&#160;9,&#160;10}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new Grid Search Optimizer object with user interaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">criteria</td><td>Vector of shared pointers to <a class="el" href="classAbstractObjective.html" title="Abstract class to define objectives for some optimizers.">AbstractObjective</a> objects that define the criteria to be used for the grid search. </td></tr>
    <tr><td class="paramname">thresholds</td><td>Vector of bn-thresholds for each optimization. </td></tr>
    <tr><td class="paramname">search_factors</td><td>Vector of search factors to determine the grid size for each optimization. </td></tr>
    <tr><td class="paramname">grid_min_steps</td><td>Minimum number of steps in each grid search. </td></tr>
    <tr><td class="paramname">harmonics_to_optimize</td><td>Integer vector of harmonics to be optimized (1-indexed).</td></tr>
  </table>
  </dd>
</dl>
<p>The constructor lets the user select a model from the command line, initializes the optimizer with the provided parameters, and sets up the model for optimization. The optimizer will run multiple optimizations (determined by the size of the <code>thresholds</code> and <code>search_factors</code> vectors) with the specified (usually decreasing) parameters. In each optimization, the optimizer will perform several rounds until the b_n values of all harmonics are below the specified threshold. In each round, the optimizer will perform one grid search for each harmonic drive, except the main harmonic, (unless a drive is already below the threshold). This grid search is in the space of the offset and slope parameters of the scaling function of the harmonic drive. The results are used to extrapolate the optimal values for the offset and slope of the scaling function. </p>

</div>
</div>
<a id="ae2332c11c1b128881e64e9a5cf2f8374" name="ae2332c11c1b128881e64e9a5cf2f8374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2332c11c1b128881e64e9a5cf2f8374">&#9670;&#160;</a></span>~GridSearchOptimizer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual GridSearchOptimizer::~GridSearchOptimizer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a66e355978eba69ef4dc3f03fd3cdfa6b" name="a66e355978eba69ef4dc3f03fd3cdfa6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e355978eba69ef4dc3f03fd3cdfa6b">&#9670;&#160;</a></span>checkBnValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool GridSearchOptimizer::checkBnValue </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>prev_bn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CCTools::HarmonicDriveParameterMap &amp;&#160;</td>
          <td class="paramname"><em>prev_drive_values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to check if the new configuration improved the b_n value. May revert to the previous configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">component</td><td>Harmonic drive component to be checked (1-indexed). </td></tr>
    <tr><td class="paramname">prev_bn</td><td>Previous b_n value of the component. </td></tr>
    <tr><td class="paramname">prev_drive_values</td><td>HarmonicDriveParameterMap object with the harmonic drive values correspoding to <code>prev_bn</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the new b_n value is better than the previous one, false otherwise.</dd></dl>
<p>The function checks if the new configuration improved the b_n value of the specified component compared to the previous configuration. If the new b_n value is better, the function returns true. If the new b_n value is the same, the function returns false. If the new b_n value is worse, the function reverts to the previous configuration <code>prev_drive_values</code> and returns false. </p>

</div>
</div>
<a id="a874b233260131f10ba19fe11e4ea74ac" name="a874b233260131f10ba19fe11e4ea74ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a874b233260131f10ba19fe11e4ea74ac">&#9670;&#160;</a></span>checkLengthSanity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::checkLengthSanity </td>
          <td>(</td>
          <td class="paramtype">CCTools::HarmonicDriveParameterMap &amp;&#160;</td>
          <td class="paramname"><em>fallback_drives</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to check the sanity of the magnet model. Will revert to the fallback config if the length of the magnet changed considerably. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fallback_drives</td><td>HarmonicDriveParameterMap object with the fallback harmonic drive values.</td></tr>
  </table>
  </dd>
</dl>
<p>The function checks if the length of the magnet model has changed considerably since the last call of this function. If the length has changed by more than 30% (e.g., because of edge regressions in the model), the function reverts to the previous configuration <code>fallback_drives</code>. </p>

</div>
</div>
<a id="a82b0c7bbdcedb368b24aeac87388521a" name="a82b0c7bbdcedb368b24aeac87388521a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82b0c7bbdcedb368b24aeac87388521a">&#9670;&#160;</a></span>computeGranularities() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::computeGranularities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to compute the granularities for the grid search. </p>
<p>The function computes the granularities of all harmonics for the grid search (i.e., the step size of the grid) based on the parameter ranges and <code>grid_num_steps_</code>. The grid is spanned equidistantly in both dimensions (offset, slope). The granularities are stored in the <code>granularities_</code> variable. </p>

</div>
</div>
<a id="ad8a00101712ab87eda5f435ccf097d6e" name="ad8a00101712ab87eda5f435ccf097d6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8a00101712ab87eda5f435ccf097d6e">&#9670;&#160;</a></span>computeGranularities() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; double, double &gt; GridSearchOptimizer::computeGranularities </td>
          <td>(</td>
          <td class="paramtype">std::pair&lt; double, double &gt;&#160;</td>
          <td class="paramname"><em>offset_range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::pair&lt; double, double &gt;&#160;</td>
          <td class="paramname"><em>slope_range</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper Function to compute the granularities for the grid search. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset_range</td><td>Pair of doubles with the offset range. </td></tr>
    <tr><td class="paramname">slope_range</td><td>Pair of doubles with the slope range. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pair of doubles with the offset and slope granularities.</dd></dl>
<p>The function computes the granularities for the grid search based on the provided offset and slope ranges and the <code>grid_num_steps_</code> variable. The granularities are set so that the spanned grid in the parameter space is equidistant in both dimensions. </p>

</div>
</div>
<a id="ac3655e9dcd5b47f94678762460b1cf35" name="ac3655e9dcd5b47f94678762460b1cf35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3655e9dcd5b47f94678762460b1cf35">&#9670;&#160;</a></span>estimateTimePerComputation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::estimateTimePerComputation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to estimate the time per harmonics calculation (i.e., one grid search iteration). </p>
<p>The function estimates the time it takes to run one harmonics calculation by performing a series of dummy computations on the current model. The estimated time in seconds is stored in the <code>time_per_calc_</code> variable and logged. </p>

</div>
</div>
<a id="aa0f7ffdfd2194488a80923368dbc51fd" name="aa0f7ffdfd2194488a80923368dbc51fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0f7ffdfd2194488a80923368dbc51fd">&#9670;&#160;</a></span>exportModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::exportModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Export the model of the optimizer. </p>
<p>The function exports the current model to a JSON file and logs the current b_n values. </p>

<p>Reimplemented from <a class="el" href="classAbstractOptimizer.html#a0208a0f15896e8f1a65fb4676b923fff">AbstractOptimizer</a>.</p>

</div>
</div>
<a id="a06a7342ad066b92baa9c1c0c53ee9ad0" name="a06a7342ad066b92baa9c1c0c53ee9ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06a7342ad066b92baa9c1c0c53ee9ad0">&#9670;&#160;</a></span>extrapolateOptimalConfiguration() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; double, double &gt; GridSearchOptimizer::extrapolateOptimalConfiguration </td>
          <td>(</td>
          <td class="paramtype">std::pair&lt; double, double &gt;&#160;</td>
          <td class="paramname"><em>linear_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CCTools::HarmonicDriveParameters &amp;&#160;</td>
          <td class="paramname"><em>current_drive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to extrapolate the optimal configuration from the grid search results for one criterion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">linear_function</td><td>Pair of doubles with the linear function for the criterion. </td></tr>
    <tr><td class="paramname">current_drive</td><td>HarmonicDriveParameters object with the current harmonic drive values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pair of doubles with the optimal offset and slope configuration.</dd></dl>
<p>The function calculates the point on the linear function that is closest to the current configuration and returns the optimal offset and slope configuration. </p>

</div>
</div>
<a id="a95ca66ae2a3eb4e483361e3b87cacef9" name="a95ca66ae2a3eb4e483361e3b87cacef9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95ca66ae2a3eb4e483361e3b87cacef9">&#9670;&#160;</a></span>extrapolateOptimalConfiguration() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; double, double &gt; GridSearchOptimizer::extrapolateOptimalConfiguration </td>
          <td>(</td>
          <td class="paramtype">std::pair&lt; double, double &gt;&#160;</td>
          <td class="paramname"><em>linear_function1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::pair&lt; double, double &gt;&#160;</td>
          <td class="paramname"><em>linear_function2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to extrapolate the optimal configuration from the grid search results for two criteria. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">linear_function1</td><td>Pair of doubles with the linear function for the first criterion. </td></tr>
    <tr><td class="paramname">linear_function2</td><td>Pair of doubles with the linear function for the second criterion. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pair of doubles with the optimal offset and slope configuration.</dd></dl>
<p>The function calculates the intersection of the linear functions of two criteria and returns the optimal offset and slope configuration as the x and y coordinates of the intersection point. </p>

</div>
</div>
<a id="a603bba3a8d9974859724b8e2611c1853" name="a603bba3a8d9974859724b8e2611c1853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a603bba3a8d9974859724b8e2611c1853">&#9670;&#160;</a></span>extrapolateOptimalConfiguration() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; double, double &gt; GridSearchOptimizer::extrapolateOptimalConfiguration </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structGridSearchResult.html">GridSearchResult</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CCTools::HarmonicDriveParameters &amp;&#160;</td>
          <td class="paramname"><em>current_drive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to extrapolate the optimal configuration from the grid search results. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">results</td><td>Vector of <a class="el" href="structGridSearchResult.html" title="Struct for storing the results of one grid search iteration.">GridSearchResult</a> objects with the results of the grid search. </td></tr>
    <tr><td class="paramname">current_drive</td><td>HarmonicDriveParameters object with the current harmonic drive values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pair of doubles with the optimal offset and slope configuration.</dd></dl>
<p>The function extrapolates the optimal configuration for the scaling function of one harmonic drive based on the results of the grid search. The optimal configuration is the one that minimizes all objectives (criteria). For every criterion, the function fits a 2D plane in the space of [offset, slope, criteria_value] to the data and extracts the linear function where the plane has the criteria_value of 0. For the case of multiple criteria, the function calculates the intersection of all linear functions to extract the optimal offset and slope as the x and y coordinates of the intersection point. For the case of a single criterion, the function calculates the point on the linear function that is closest to the current configuration. </p>

</div>
</div>
<a id="a431d3cbdd9f30411d37489692a43fc26" name="a431d3cbdd9f30411d37489692a43fc26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a431d3cbdd9f30411d37489692a43fc26">&#9670;&#160;</a></span>getCriteriaLabels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; GridSearchOptimizer::getCriteriaLabels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to get the labels of all criteria. </p>
<dl class="section return"><dt>Returns</dt><dd>Vector of strings with the labels of all criteria. </dd></dl>

</div>
</div>
<a id="a8bc43a372542d3d27d25c56383846bb2" name="a8bc43a372542d3d27d25c56383846bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bc43a372542d3d27d25c56383846bb2">&#9670;&#160;</a></span>getCurrentBnValues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; double &gt; &amp; GridSearchOptimizer::getCurrentBnValues </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to get the current bn values. </p>
<dl class="section return"><dt>Returns</dt><dd>Vector of doubles with the current b_n values.</dd></dl>
<p>This function returns the bn values computed in the last harmonics calculation. </p>

</div>
</div>
<a id="ad755470ffecbb3024331d143201fc1dd" name="ad755470ffecbb3024331d143201fc1dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad755470ffecbb3024331d143201fc1dd">&#9670;&#160;</a></span>getGranularities()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; std::pair&lt; double, double &gt; &gt; &amp; GridSearchOptimizer::getGranularities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to get the granularities for the grid search. </p>
<dl class="section return"><dt>Returns</dt><dd>Vector of pairs of doubles with the granularities for the offset and slope parameters of all harmonics.</dd></dl>
<p>This function returns the granularities for the grid search of all 10 harmonics. </p>

</div>
</div>
<a id="ae47e4489873637a4e4249f1672e81618" name="ae47e4489873637a4e4249f1672e81618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae47e4489873637a4e4249f1672e81618">&#9670;&#160;</a></span>getModelHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const CCTools::ModelHandler &amp; GridSearchOptimizer::getModelHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to get the model handler. </p>
<dl class="section return"><dt>Returns</dt><dd>Reference to the ModelHandler object. </dd></dl>

</div>
</div>
<a id="af662e3bef45038e8a57995ca56d5c9f2" name="af662e3bef45038e8a57995ca56d5c9f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af662e3bef45038e8a57995ca56d5c9f2">&#9670;&#160;</a></span>getParamRange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::pair&lt; double, double &gt;, std::pair&lt; double, double &gt; &gt; GridSearchOptimizer::getParamRange </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>component</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to get the parameter ranges of a harmonic component for the grid search. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">component</td><td>Harmonic drive component to get the parameter ranges for (1-indexed). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pair of pairs of doubles with the offset and slope parameter ranges (start and end).</dd></dl>
<p>This function returns the parameter ranges for the offset and slope parameters of the specified harmonic drive component. Format: {{offset_min, offset_max}, {slope_min, slope_max}} </p>

</div>
</div>
<a id="a67c217d528f191989a6dcb3802ee2009" name="a67c217d528f191989a6dcb3802ee2009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67c217d528f191989a6dcb3802ee2009">&#9670;&#160;</a></span>getTimePerCalc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double GridSearchOptimizer::getTimePerCalc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to get the time per harmonics calculation. </p>
<dl class="section return"><dt>Returns</dt><dd>Double with the estimated time per harmonics calculation in seconds.</dd></dl>
<p>This function returns the estimated time it takes to run one harmonics calculation (i.e., one grid search iteration). </p>

</div>
</div>
<a id="a2ffddf12268bd6b3ad5ffd4e68015029" name="a2ffddf12268bd6b3ad5ffd4e68015029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ffddf12268bd6b3ad5ffd4e68015029">&#9670;&#160;</a></span>hasDriveValueChanged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool GridSearchOptimizer::hasDriveValueChanged </td>
          <td>(</td>
          <td class="paramtype">CCTools::HarmonicDriveParameterMap &amp;&#160;</td>
          <td class="paramname"><em>drive_values_before_loop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to check if any custom cct harmonic drive value has changed in the current loop iteration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">drive_values_before_loop</td><td>HarmonicDriveParameterMap object with the harmonic drive values before the current loop iteration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if at least one value has changed, false otherwise.</dd></dl>
<p>The function checks if any custom cct harmonic drive value has changed since the last optimization round by comparing the current drives to <code>drive_values_before_loop</code>. If at least one value has changed, the function returns true. Otherwise, it returns false. </p>

</div>
</div>
<a id="a40491aea01b36374cc116e3c1551cfa2" name="a40491aea01b36374cc116e3c1551cfa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40491aea01b36374cc116e3c1551cfa2">&#9670;&#160;</a></span>injectParamRanges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::injectParamRanges </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::pair&lt; std::pair&lt; double, double &gt;, std::pair&lt; double, double &gt; &gt; &gt;&#160;</td>
          <td class="paramname"><em>param_ranges</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inject parameter ranges for the grid searches. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param_ranges</td><td>Vector to overwrite the <code>param_ranges_</code> variable. Needs to have a length of 10 to cover all harmonics. Range for the main harmonic is ignored.</td></tr>
  </table>
  </dd>
</dl>
<p>This function injects a value for the <code>param_ranges_</code> variable. Must be called prior to the optimization. When injected, the optimizer will not compute the parameter ranges itself. This function is designed for testing purposes. Caution is advised when using this function for non-testing purposes. </p>

</div>
</div>
<a id="ad20c962e61889b74cecfcf0c247d7b07" name="ad20c962e61889b74cecfcf0c247d7b07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad20c962e61889b74cecfcf0c247d7b07">&#9670;&#160;</a></span>logCriteriaValues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::logCriteriaValues </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to compute and log all <code>crieria_</code> values. </p>
<p>The function computes the criteria values for the current model and logs them. This function is designed for testing purposes and will have no effect besides logging. </p>

</div>
</div>
<a id="a0c1fa2d04522ed60839817b97a88d8af" name="a0c1fa2d04522ed60839817b97a88d8af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c1fa2d04522ed60839817b97a88d8af">&#9670;&#160;</a></span>logResults()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::logResults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log the results of the optimizer. </p>
<p>The function logs the objective function values of the final result as well as all interim results with the corresponding models. </p>

<p>Implements <a class="el" href="classAbstractOptimizer.html#a596cfa27c768107a3d1f9c0fb4b973e6">AbstractOptimizer</a>.</p>

</div>
</div>
<a id="ad5e034365b421e48925725b730b81a0e" name="ad5e034365b421e48925725b730b81a0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5e034365b421e48925725b730b81a0e">&#9670;&#160;</a></span>optimize() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::optimize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start the optimizer. </p>
<p>The function estimates the time per computation, logs the criteria to be used for the grid search, and runs the optimizer with the specified thresholds and search factors. </p>

<p>Implements <a class="el" href="classAbstractOptimizer.html#ac53d2589b639210616c42482d73561cf">AbstractOptimizer</a>.</p>

</div>
</div>
<a id="a929c7ed9b4a478b8b73c9ae02e3d04ad" name="a929c7ed9b4a478b8b73c9ae02e3d04ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929c7ed9b4a478b8b73c9ae02e3d04ad">&#9670;&#160;</a></span>optimize() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::optimize </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>bn_threshold</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to start one optimization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bn_threshold</td><td>Threshold for the b_n values.</td></tr>
  </table>
  </dd>
</dl>
<p>In this optimization, the optimizer will perform several rounds until the b_n values of all harmonics are below <code>bn_threshold</code>. In each round, the optimizer will perform one grid search for each harmonic drive, except the main harmonic, (unless a drive is already below the threshold) to find the optimal configuration for the scaling function of that drive. </p>

</div>
</div>
<a id="a7ccb518a1e97c1ea7f391cdd77b45d70" name="a7ccb518a1e97c1ea7f391cdd77b45d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ccb518a1e97c1ea7f391cdd77b45d70">&#9670;&#160;</a></span>recompute_bn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::recompute_bn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to recompute the b_n values. </p>
<p>The function recomputes the b_n values of the current model and stores them in the <code>current_bn_values_</code> variable. </p>

</div>
</div>
<a id="a0b404fc07d59d46669216ea15d183f0a" name="a0b404fc07d59d46669216ea15d183f0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b404fc07d59d46669216ea15d183f0a">&#9670;&#160;</a></span>runGridSearch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::runGridSearch </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structGridSearchResult.html">GridSearchResult</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to run a grid search for one harmonic drive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">component</td><td>Harmonic drive component to be optimized (1-indexed). </td></tr>
    <tr><td class="paramname">results</td><td>Vector to store the results of the grid search. One element corresponds to one iteration of the grid search.</td></tr>
  </table>
  </dd>
</dl>
<p>The function runs a grid search for the specified harmonic drive component and stores the results in the <code>results</code> vector. Pulls the parameter ranges and granularities from the <code>param_ranges_</code> and <code>granularities_</code> variables. </p>

</div>
</div>
<a id="a3250e8c340a8251b4ece35e30b3765ae" name="a3250e8c340a8251b4ece35e30b3765ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3250e8c340a8251b4ece35e30b3765ae">&#9670;&#160;</a></span>setNumSteps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::setNumSteps </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_steps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to overwrite the <code>grid_num_steps_</code> variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_steps</td><td>Number of steps to be set.</td></tr>
  </table>
  </dd>
</dl>
<p>This function overwrites the <code>grid_num_steps_</code> variable. Must be called prior to the optimization. This function is designed for testing purposes. Caution is advised when using this function for non-testing purposes. </p>

</div>
</div>
<a id="a628e84e038240de0500b539f0e2862e1" name="a628e84e038240de0500b539f0e2862e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a628e84e038240de0500b539f0e2862e1">&#9670;&#160;</a></span>setParamRanges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GridSearchOptimizer::setParamRanges </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>factor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to set the parameter ranges for the grid search. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">factor</td><td>Factor to determine the size of the grid.</td></tr>
  </table>
  </dd>
</dl>
<p>The function sets the parameter ranges for the grid search based on the current harmonic drive values and the provided factor. The parameter range will be set to the [current value +/- factor * current value] for the offset and slope parameters. The parameter ranges are stored in the <code>param_ranges_</code> variable. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/CCT-Harmonics-Optimizer/CCT-Harmonics-Optimizer/include/<a class="el" href="grid__search__optimizer_8h_source.html">grid_search_optimizer.h</a></li>
<li>/home/runner/work/CCT-Harmonics-Optimizer/CCT-Harmonics-Optimizer/src/<a class="el" href="grid__search__optimizer_8cpp.html">grid_search_optimizer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classGridSearchOptimizer.html">GridSearchOptimizer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
